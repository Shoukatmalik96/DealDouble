@model List<DealDouble.Entities.Auctions>
@{
    ViewBag.Title = "Listing";
}

    <table class="table table-hover">
        <tr>
            <th>Title</th>
            <th>Description</th>
            <th>ActualAmount</th>
            <th>StartingDate</th>
            <th>EndingDate</th>
            <th>Actions</th>
        </tr>

        @foreach (var auction in Model)
        {
            <tr>
                <td>@auction.Title</td>
                <td>@auction.Description</td>
                <td>@auction.ActualAmount</td>
                <td>@auction.StartingDate</td>
                <td>@auction.EndingDate</td>
                <td><Button class="editButton btn btn-primary" data-id="@auction.ID" type="button" data-toggle="modal" data-target="#formModal">Edit</Button></td>
                <td><Button class="deleteButton btn btn-danger" data-id="@auction.ID" type="button" data-toggle="modal" data-target="#deleteModal">Delete</Button></td>
            </tr>
        }

    </table>
    <nav aria-label="Page navigation example">
        <ul class="pagination justify-content-center">
            <li class="page-item disabled">
                <a class="page-link" href="#" tabindex="-1" aria-disabled="true">Previous</a>
            </li>
            <li class="page-item"><a class="page-link" href="#">1</a></li>
            <li class="page-item"><a class="page-link" href="#">2</a></li>
            <li class="page-item"><a class="page-link" href="#">3</a></li>
            <li class="page-item">
                <a class="page-link" href="#">Next</a>
            </li>
        </ul>
    </nav>

    <script>
       $(".editButton").click(function () {

            $.ajax({
                url: "@Url.Action("Edit","Auctions")",
                type: "get",
                data: 
                {
                    ID: $(this).attr("data-id")
                }
            }).done(function (response) {

                $("#contentArea").html(response)
                $("#formModal").modal("toggle")
            });
       });

        $(".deleteButton").click(function () {
           
            $("#deleteModal").modal("toggle")
            $('#mDeleteButton').attr("data-recordID", $(this).attr("data-id"))

        });
    </script>


